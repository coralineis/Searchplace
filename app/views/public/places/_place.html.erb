  <div class="card mx-auto mt-3" style="max-width: 500px;">
    <%= image_tag place.image.url %>
    <div class="card-body text-center">
      <p class="card-text">
        <% if place.tag_list.present? %>
          <% place.tag_list.each do |tag| %>
            #<%= tag %>
          <% end %>
        <% end %>
      </p>
      <h4 class="card-title"><%= place.address %></h4>
      <h6 class="card-subtitle text-right">posted by <%= place.user.name %></h6>
      <p class="card-text py-3">
        ≪ 所要時間 ≫　<%= place.time %>時間<br>
        <%= place.introduction %>
      </p>
    </div>
  </div>
  <p>住所</p>
    <div id='map'></div>

    <style>
    #map {
      height: 300px;
      width: 400px;
    }
    </style>

    <script>
      let map
      let geocoder

      function initMap(){
        geocoder = new google.maps.Geocoder()
        var test ={lat: <%= place.latitude %>, lng: <%= place.longitude %>};

        map = new google.maps.Map(document.getElementById('map'), {
          center: test,
          zoom: 15,
        });

        var contentString = '住所：<%= place.address %>';
        var infowindow = new google.maps.InfoWindow({
          content: contentString
        });

        marker = new google.maps.Marker({
          position:  test,
          map: map,
          title: contentString
        });
      }
    </script>
  　<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['API_KEY'] %>&callback=initMap" async defer></script>

<div id='map'></div>

<style>
#map {
  height: 600px;
  width: 600px;
}
</style>

<script>
let map
let geocoder

function initMap(){
  geocoder = new google.maps.Geocoder()

  map = new google.maps.Map(document.getElementById('map'), {
    center: {lat: 40.7828, lng:-73.9653},
    zoom: 12,
  });

  marker = new google.maps.Marker({
    position:  {lat: 40.7828, lng:-73.9653},
    map: map
  });
}

function codeAddress(){
  let inputAddress = document.getElementById('address').value;

  geocoder.geocode( { 'address': inputAddress}, function(results, status) {
    if (status == 'OK') {
      map.setCenter(results[0].geometry.location);
      var marker = new google.maps.Marker({
          map: map,
          position: results[0].geometry.location
      });
    } else {
      alert('該当する結果がありませんでした：' + status);
    }
  });
}
</script>
<script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['API_KEY'] %>&callback=initMap" async defer></script>